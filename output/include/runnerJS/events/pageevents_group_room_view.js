
Runner.pages.ajaxEvents["group_room_view_ajax"]=function(pageObj,proxy,pageid,inlineRow,inlineObject){var params={},result={},ret,reqParams,fieldsData={},row=new Runner.AjaxRow(pageObj,inlineRow),ajax=new Runner.form.Button({id:'group_room_view_ajax',btnName:'group_room_view_ajax'}),before=function(){room_id=row.getFieldValue("group_product_id");location.href="/add_new_checkin_add.php?room_id="+room_id;},after=function(){var message=result["txt"]+" !!!";row.setMessage(message);},submit=function(){params["table"]="group_room_view";params["masterTable"]=pageObj.masterTable;params["fieldsData"]={};(Runner.controls.ControlStorage.byId(inlineRow.id)||[]).forEach(function(ctrl){if(!(ctrl instanceof Runner.controls.MultiUploadField)&&!(ctrl instanceof Runner.controls.FileControl)){params["fieldsData"][ctrl.fieldName]=ctrl.getValue();}});reqParams={params:JSON.stringify(params),keys:JSON.stringify(inlineRow.keys),event:"group_room_view_ajax"};$.post(Runner.getPageUrl("buttonhandler"),reqParams,function(rawResult){try{result=JSON.parse(rawResult);}catch(e){Runner.displayGenericAjaxError(rawResult);}
after.call(pageObj);}).fail(function(jqXHR,textStatus,errorThrown){Runner.displayGenericAjaxError(jqXHR.responseText||textStatus+' '+errorThrown);});};ajax.submitHandler=submit;ajax.submit=submit;ret=before.call(pageObj);if(ret===false){return;}
submit();}